import{r as i,o as w,g as N,c as V,a as t,w as a,_ as $,b,F as k,u as B,d as F,e as o,f as L,h as n,t as u,i as r}from"./index-Deuopn5O.js";const M={class:"text-left"},O={__name:"UserView",setup(P){const g=B(),l=i({}),v=i(!1),_=i(!1),c=i(!1),f=i(""),m=i("");w(()=>{E(g.params.id)});const E=async s=>{N(s).then(e=>l.value=e.data.user).catch(e=>console.log(e))},D=s=>{const e=new Date(s*1e3),p={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0};return e.toLocaleDateString("en-US",p)},x=()=>{_.value=!0,v.value=!0},C=async()=>{F(g.params.id).then(s=>{f.value=s.data.msg,m.value="Message",c.value=!0,v.value=!1,_.value=!1,setTimeout(()=>{location.href="/"},2500)}).catch(s=>{console.log(s),f.value=s.message,m.value="Error",c.value=!0})};return(s,e)=>{const p=o("v-card-title"),d=o("v-list-item"),T=o("v-col"),S=o("v-divider"),U=o("v-btn"),y=o("v-card-actions"),A=o("v-card");return L(),V(k,null,[t(A,{class:"pa-5"},{default:a(()=>[t(p,{class:"green"},{default:a(()=>[n(u(l.value.username),1)]),_:1}),t(T,null,{default:a(()=>[r("div",M,[t(d,null,{default:a(()=>[e[2]||(e[2]=r("span",{class:"green"},"ID",-1)),n(": "+u(l.value._id),1)]),_:1}),t(d,null,{default:a(()=>[e[3]||(e[3]=r("span",{class:"green"},"STATUS: ",-1)),n(" "+u(l.value.active),1)]),_:1}),t(d,null,{default:a(()=>[e[4]||(e[4]=r("span",{class:"green"},"ROLES: ",-1)),n(" "+u(l.value.roles),1)]),_:1}),t(d,null,{default:a(()=>[e[5]||(e[5]=r("span",{class:"green"},"PREFERENCES:",-1)),n(" "+u(l.value.preferences),1)]),_:1}),t(d,null,{default:a(()=>[e[6]||(e[6]=r("span",{class:"green"},"CREATEDAT: ",-1)),n(" "+u(D(l.value.created_ts)),1)]),_:1}),t(d,null,{default:a(()=>[e[7]||(e[7]=r("span",{class:"green"},"UPDATED AT:",-1)),n(" "+u(l.value.updated_ts?D(l.value.updated_ts):""),1)]),_:1})])]),_:1}),t(S),t(y,null,{default:a(()=>[t(U,{variant:"plain",onClick:x},{default:a(()=>e[8]||(e[8]=[n("Delete")])),_:1})]),_:1})]),_:1}),t($,{dialog:c.value,text:f.value,title:m.value,onClose:e[0]||(e[0]=R=>c.value=!1)},null,8,["dialog","text","title"]),t(b,{dialog:v.value,del:_.value,text:"Delete user?",title:"Confirm",onClose:e[1]||(e[1]=R=>v.value=!1),onConfirmDelete:C},null,8,["dialog","del"])],64)}}};export{O as default};
