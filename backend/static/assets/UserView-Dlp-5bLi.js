import{r as d,o as R,g as N,c as V,a as t,w as a,_ as $,b,F as k,u as B,d as F,e as o,f as L,h as n,t as r,i as u}from"./index-BJUXt7Dv.js";const M={class:"text-left"},O={__name:"UserView",setup(P){const g=B(),l=d({}),v=d(!1),_=d(!1),c=d(!1),f=d(""),m=d("");R(()=>{E(g.params.id)});const E=async s=>{try{const e=await N(s);e.data&&(l.value=e.data.user)}catch(e){console.log(e)}},D=s=>{const e=new Date(s*1e3),p={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0};return e.toLocaleDateString("en-US",p)},x=()=>{_.value=!0,v.value=!0},C=async()=>{try{const s=await F(g.params.id);s.data&&(f.value=s.data.msg,m.value="Message",c.value=!0,v.value=!1,_.value=!1,setTimeout(()=>{location.href="/"},2500))}catch(s){f.value=s.message,m.value="Error",c.value=!0}};return(s,e)=>{const p=o("v-card-title"),i=o("v-list-item"),T=o("v-col"),y=o("v-divider"),S=o("v-btn"),w=o("v-card-actions"),U=o("v-card");return L(),V(k,null,[t(U,{class:"pa-5"},{default:a(()=>[t(p,{class:"green"},{default:a(()=>[n(r(l.value.username),1)]),_:1}),t(T,null,{default:a(()=>[u("div",M,[t(i,null,{default:a(()=>[e[2]||(e[2]=u("span",{class:"green"},"ID",-1)),n(": "+r(l.value._id),1)]),_:1}),t(i,null,{default:a(()=>[e[3]||(e[3]=u("span",{class:"green"},"STATUS: ",-1)),n(" "+r(l.value.active),1)]),_:1}),t(i,null,{default:a(()=>[e[4]||(e[4]=u("span",{class:"green"},"ROLES: ",-1)),n(" "+r(l.value.roles),1)]),_:1}),t(i,null,{default:a(()=>[e[5]||(e[5]=u("span",{class:"green"},"PREFERENCES:",-1)),n(" "+r(l.value.preferences),1)]),_:1}),t(i,null,{default:a(()=>[e[6]||(e[6]=u("span",{class:"green"},"CREATEDAT: ",-1)),n(" "+r(D(l.value.created_ts)),1)]),_:1}),t(i,null,{default:a(()=>[e[7]||(e[7]=u("span",{class:"green"},"UPDATED AT:",-1)),n(" "+r(l.value.updated_ts?D(l.value.updated_ts):""),1)]),_:1})])]),_:1}),t(y),t(w,null,{default:a(()=>[t(S,{variant:"plain",onClick:x},{default:a(()=>e[8]||(e[8]=[n("Delete")])),_:1})]),_:1})]),_:1}),t($,{dialog:c.value,text:f.value,title:m.value,onClose:e[0]||(e[0]=A=>c.value=!1)},null,8,["dialog","text","title"]),t(b,{dialog:v.value,del:_.value,text:"Delete user?",title:"Confirm",onClose:e[1]||(e[1]=A=>v.value=!1),onConfirmDelete:C},null,8,["dialog","del"])],64)}}};export{O as default};
